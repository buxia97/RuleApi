(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{128:function(e,t,n){"use strict";var o=n(129),r=n.n(o);t.default=r.a},129:function(e,t){},184:function(e,t,n){"use strict";var o=n(1),r=n(274),l=n.n(r),c=n(275),m=n.n(c);o.default.use(l.a,{locale:m.a})},185:function(e,t,n){"use strict";t.a=function(e){var t=e.$axios;e.redirect;t.defaults.timeout=6e4,t.defaults.baseURL="/",t.setHeader("Content-Type","application/x-www-form-urlencoded"),t.onRequest((function(e){})),t.onResponse((function(e){})),t.onError((function(e){}))}},186:function(e,t,n){"use strict";var o=n(1),r=n(276),l=n.n(r),c=n(277),m=n.n(c);o.default.prototype.qs=m.a,o.default.prototype.$api=l.a},188:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r}));var o=function(){var e=this._self._c;this._self._setupProxy;return e("Nuxt")},r=[]},273:function(e,t,n){"use strict";var o=n(188),r=n(128),l=n(26),component=Object(l.a)(r.default,o.a,o.b,!1,null,null,null);t.default=component.exports},276:function(e,t){e.exports={isPro:function(){return 0},isInstall:function(){return"/install/isInstall"},typechoInstall:function(){return"/install/typechoInstall"},configToconfig:function(){return"/install/configToconfig"},toUtf8mb4:function(){return"/install/toUtf8mb4"},apiNewVersion:function(){return"/system/apiNewVersion"},newInstall:function(){return"/install/newInstall"},proInstall:function(){return"/install/proInstall"},cleanRedis:function(){return"/install/cleanRedis"},isKey:function(){return"/system/isKey"},getConfig:function(){return"/system/getConfig"},getApiConfig:function(){return"/system/getAllConfig"},apiConfigUpdate:function(){return"/system/allConfigUpdate"},setupMysql:function(){return"/system/setupMysql"},setupRedis:function(){return"/system/setupRedis"},setupEmail:function(){return"/system/setupEmail"},setupWebKey:function(){return"/system/setupWebKey"},setupConfig:function(){return"/system/setupConfig"},allConfig:function(){return"/system/allConfig"},addVipType:function(){return"/system/addVipType"},updateVipType:function(){return"/system/updateVipType"},deleteVipType:function(){return"/system/deleteVipType"},vipTypeList:function(){return"/system/vipTypeList"},addApp:function(){return"/system/addApp"},updateApp:function(){return"/system/updateApp"},deleteApp:function(){return"/system/deleteApp"},appList:function(){return"/system/appList"},addPayPackage:function(){return"/system/addPayPackage"},updatePayPackage:function(){return"/system/updatePayPackage"},deletePayPackage:function(){return"/system/deletePayPackage"},newVersion:function(){return"/system/newVersion"},getAuthorizeCode:function(){return"/system/getAuthorizeCode"},payPackageList:function(){return"/system/payPackageList"},getEmailTemplateConfig:function(){return"/system/getEmailTemplateConfig"},emailTemplateConfigUpdate:function(){return"/system/emailTemplateConfigUpdate"},getRuleNews:function(){return"https://api.ruletree.club/typechoMetas/selectContents"},getScan:function(){return"/typechoUsers/getScan"},getScanStatus:function(){return"/typechoUsers/getScanStatus"},userLogin:function(){return"/typechoUsers/userLogin"},userStatus:function(){return"/typechoUsers/userStatus"},removeObjectEmptyKey:function(e){var t;for(var n in e)e.hasOwnProperty(n)&&(void 0!==(t=e[n])&&""!==t&&null!==t||delete e[n]);return e}}},279:function(e,t,n){"use strict";n(16),n(89),n(30),n(347),n(75);var o={data:function(){return{menuShow:!1,menu:[{name:"首页",icon:"el-icon-s-home",link:"/apiSystem/home",subList:[],isPro:0,isShow:!1},{name:"系统管理",icon:"el-icon-s-tools",link:"",isShow:!1,isPro:0,subList:[{name:"基本设置",link:"/apiSystem/config/setUp",isPro:0},{name:"安全设置",link:"/apiSystem/config/sfety",isPro:0},{name:"系统访问Key",link:"/apiSystem/config/key",isPro:0}]},{name:"应用模块",link:"",icon:"el-icon-menu",isPro:0,subList:[{name:"应用管理",link:"/apiSystem/app/list",isPro:0}],isShow:!1},{name:"用户模块",icon:"el-icon-user-solid",link:"",isShow:!1,isPro:0,subList:[{name:"基本参数",link:"/apiSystem/user/setUp",isPro:0},{name:"实名认证",link:"/apiSystem/user/identify",isPro:1},{name:"VIP套餐",link:"/apiSystem/user/vip",isPro:1},{name:"经验设置",link:"/apiSystem/user/exp",isPro:0}]},{name:"存储模块",link:"",icon:"el-icon-upload",isPro:0,subList:[{name:"全局参数",link:"/apiSystem/upload/setUp",isPro:0},{name:"COS设置",link:"/apiSystem/upload/cos",isPro:0},{name:"OSS设置",link:"/apiSystem/upload/oss",isPro:0},{name:"七牛设置",link:"/apiSystem/upload/qiniu",isPro:0},{name:"远程FTP设置",link:"/apiSystem/upload/ftp",isPro:0},{name:"S3存储配置",link:"/apiSystem/upload/s3",isPro:0}],isShow:!1},{name:"内容模块",link:"",icon:"el-icon-s-management",isPro:0,subList:[{name:"基本参数",link:"/apiSystem/content/setUp",isPro:0},{name:"内容安全",link:"/apiSystem/content/violation",isPro:0}],isShow:!1},{name:"支付模块",icon:"el-icon-s-finance",isPro:0,subList:[{name:"基本参数",link:"/apiSystem/pay/setUp",isPro:0},{name:"支付套餐",link:"/apiSystem/pay/package",isPro:0},{name:"支付宝（当面付）",link:"/apiSystem/pay/alipay",isPro:0},{name:"微信支付（Native）",link:"/apiSystem/pay/wxpay",isPro:0},{name:"易支付配置",link:"/apiSystem/pay/epay",isPro:0},{name:"Apple支付",link:"/apiSystem/pay/applePay",isPro:0}],isShow:!1},{name:"小程序模块",link:"",icon:"el-icon-s-opportunity",isPro:0,subList:[{name:"微信登录",link:"/apiSystem/applets/weixin",isPro:0},{name:"QQ登录",link:"/apiSystem/applets/qq",isPro:0}],isShow:!1},{name:"广告模块",link:"",icon:"el-icon-video-play",isPro:0,subList:[{name:"基本参数",link:"/apiSystem/ad/setUp",isPro:0}],isShow:!1},{name:"通知模块",link:"",icon:"el-icon-s-promotion",isPro:0,subList:[{name:"UniPush配置",link:"/apiSystem/push/setUp",isPro:0},{name:"邮箱发信设置",link:"/apiSystem/config/email",isPro:0},{name:"邮件模板",link:"/apiSystem/push/emailtemplate",isPro:0},{name:"短信配置",link:"/apiSystem/user/sms",isPro:0}],isShow:!1}],key:"",IntervalKey:null,isLogin:1,loginForm:{name:"",password:""},loginType:0,scanLoginUrl:"",scanText:"",timer:null,isPro:0}},beforeDestroy:function(){clearInterval(this.timer),this.timer=null},created:function(){},mounted:function(){var e=this;e.isPro=e.$api.isPro(),localStorage.getItem("webkey")?e.key=localStorage.getItem("webkey"):(e.$message({message:"请先完成Key认证！",type:"error"}),e.$router.push({path:"/"})),e.isKey(),e.$once("hook:beforeDestroy",(function(){clearInterval(e.IntervalKey),e.IntervalKey=null})),localStorage.getItem("api_token")||(e.isLogin=0),clearInterval(e.IntervalKey),e.IntervalKey=setInterval((function(){localStorage.getItem("api_token")||(e.isLogin=0),e.isKey()}),2e4),e.$once("hook:beforeDestroy",(function(){clearInterval(e.timer),e.timer=null}))},methods:{Exit:function(){localStorage.removeItem("webkey"),this.$message({message:"退出成功！",type:"success"}),this.$router.push({path:"/"})},handleOpen:function(e,t){console.log(e,t)},handleClose:function(e,t){console.log(e,t)},goPage:function(link){if(""==link)return!1;this.$router.push({path:link})},isKey:function(){var e=this,data=(e.key,{webkey:e.key});e.$axios.$post(e.$api.isKey(),this.qs.stringify(data)).then((function(t){1!=t.code&&(e.$message({message:t.msg,type:"error"}),e.$router.push({path:"/"}))})).catch((function(t){console.log(t),e.$message({message:"接口请求异常，请检查网络！",type:"error"})}))},goType:function(e){var t=this;if(t.loginType=e,clearInterval(t.timer),t.timer=null,1==e){var text=t.randomString(7)+(new Date).getTime();t.scanText=text,t.scanLoginUrl=t.$api.getScan()+"?codeContent="+text,t.timer=setInterval((function(){t.getScan()}),1e3)}},login:function(){var e=this;if(""==e.loginForm.password||""==e.loginForm.name)return e.$message({message:"请输入正确的参数",type:"error"}),!1;var t=e.loginForm,data={params:JSON.stringify(e.$api.removeObjectEmptyKey(t))},n=this.$loading({lock:!0,spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});e.$axios.$post(e.$api.userLogin(),this.qs.stringify(data)).then((function(t){n.close(),1==t.code?(e.$message({message:"登录成功！",type:"success"}),e.isLogin=1,localStorage.setItem("api_token",t.data.token),e.loginForm={name:"",password:""}):e.$message({message:t.msg,type:"error"})})).catch((function(t){console.log(t),n.close(),e.$message({message:"接口请求异常，请检查网络！",type:"error"})}))},randomString:function(e){e=e||32;for(var t="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678",a=t.length,n="",i=0;i<e;i++)n+=t.charAt(Math.floor(Math.random()*a));return n},getScan:function(){var e=this,data={codeContent:e.scanText};e.$axios.$post(e.$api.getScanStatus(),this.qs.stringify(data)).then((function(t){1==t.code?(e.$message({message:"扫码登录成功！",type:"success"}),clearInterval(e.timer),e.timer=null,e.isLogin=1,localStorage.setItem("api_token",t.data.token)):-1==t.code&&(e.$message({message:t.msg,type:"error"}),e.goType(3))})).catch((function(t){console.log(t),e.$message({message:"接口请求异常，请检查网络！",type:"error"})}))}}},r=n(26),component=Object(r.a)(o,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("div",{staticClass:"header"},[t("div",{staticClass:"menuShow"},[t("a",{attrs:{href:"javascript:;"},on:{click:function(t){e.menuShow=!e.menuShow}}},[e.menuShow?t("i",{staticClass:"el-icon-s-fold"}):e._e(),e._v(" "),e.menuShow?e._e():t("i",{staticClass:"el-icon-s-unfold"})])]),e._v(" "),t("div",{staticClass:"logo"},[t("nuxt-link",{attrs:{to:"/"}},[e._v("Rule"),t("span",[e._v("Api")])])],1),e._v(" "),t("div",{staticClass:"header-operate"},[t("el-button",{attrs:{type:"danger"},on:{click:function(t){return e.Exit()}}},[e._v("退出")])],1)]),e._v(" "),t("div",{staticClass:"main"},[t("div",{staticClass:"menu-bg",class:e.menuShow?"show":"",on:{click:function(t){e.menuShow=!1}}}),e._v(" "),t("div",{staticClass:"menu",class:e.menuShow?"show":""},[t("el-menu",{staticClass:"el-menu-vertical",attrs:{"default-active":"2"},on:{open:e.handleOpen,close:e.handleClose}},[e._l(e.menu,(function(n,o){return[n.subList.length>0?t("el-submenu",{attrs:{index:(o+1).toString()}},[t("template",{slot:"title"},[t("i",{class:n.icon}),e._v(" "),t("span",[e._v(e._s(n.name))])]),e._v(" "),t("el-menu-item-group",[e._l(n.subList,(function(sub,n){return sub.isPro<=e.isPro?[t("el-menu-item",{attrs:{index:(o+1).toString()+"-"+n},on:{click:function(t){return e.goPage(sub.link)}}},[e._v(e._s(sub.name))])]:e._e()}))],2)],2):t("el-menu-item",{attrs:{index:(o+1).toString()},on:{click:function(t){return e.goPage(n.link)}}},[t("i",{class:n.icon}),e._v(" "),t("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(n.name))])])]}))],2)],1),e._v(" "),t("div",{staticClass:"page-main"},[t("Nuxt"),e._v(" "),e._m(0),e._v(" "),0==e.isLogin?t("div",{staticClass:"login"},[t("div",{staticClass:"login-bg"}),e._v(" "),t("div",{staticClass:"login-main"},[t("div",{staticClass:"login-content"},[e._m(1),e._v(" "),0==e.loginType?t("div",{staticClass:"login-form"},[t("div",{staticClass:"login-form-box"},[t("el-input",{attrs:{placeholder:"用户名/邮箱",clearable:""},model:{value:e.loginForm.name,callback:function(t){e.$set(e.loginForm,"name",t)},expression:"loginForm.name"}})],1),e._v(" "),t("div",{staticClass:"login-form-box"},[t("el-input",{attrs:{placeholder:"登录密码","show-password":""},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1),e._v(" "),t("div",{staticClass:"login-form-btn"},[t("el-button",{attrs:{type:"danger"},on:{click:function(t){return e.login()}}},[e._v("登录")]),e._v(" "),t("p",[t("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.goType(1)}}},[t("i",{staticClass:"iconfont icon-qrcode"}),e._v("扫码登录")])])],1)]):e._e(),e._v(" "),1==e.loginType?t("div",{staticClass:"login-form"},[t("div",{staticClass:"scanLogin-pic"},[t("el-image",{attrs:{src:e.scanLoginUrl,lazy:""}})],1),e._v(" "),t("div",{staticClass:"login-form-btn"},[t("p",[t("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.goType(0)}}},[t("i",{staticClass:"iconfont icon-login-variant"}),e._v("普通登录")])])])]):e._e()])])]):e._e()],1)])])}),[function(){var e=this,t=e._self._c;return t("div",{staticClass:"footer"},[t("div",{staticClass:"footer-links"},[t("a",{attrs:{href:"https://www.yuque.com/buxia97/ruleproject/fa8twrdfqawesuyg",target:"_blank"}},[e._v("安装教程")]),e._v(" "),t("a",{attrs:{href:"https://www.yuque.com/buxia97/ruleproject/ebvivbv35bfdbq1d",target:"_blank"}},[e._v("更新教程")]),e._v(" "),t("a",{attrs:{href:"https://www.ruletree.club/",target:"_blank"}},[e._v("规则之树")]),e._v(" "),t("a",{staticStyle:{color:"#F56C6C"},attrs:{href:"https://www.ruletree.club/sponsor.html",target:"_blank"}},[e._v("赞助开发者")])]),e._v(" "),t("div",{staticClass:"footer-copy"},[e._v("\n          © 2021 - 2025 RuleProject\n        ")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"login-title"},[t("h1",[t("span",{staticClass:"text-red"},[e._v("管理员")]),e._v("校验")])])}],!1,null,null,null);t.a=component.exports},281:function(e,t,n){n(282),e.exports=n(283)},346:function(e,t,n){},437:function(e,t){}},[[281,38,1,39]]]);