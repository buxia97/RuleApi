(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{466:function(t,e,o){"use strict";o.r(e);var l={layout:"layout",head:function(){return{title:"远程FTP上传配置"}},data:function(){return{key:"",form:{ftpHost:"",ftpPort:"",ftpUsername:"",ftpPassword:"",ftpBasePath:""}}},beforeDestroy:function(){},created:function(){},mounted:function(){var t=this;localStorage.getItem("webkey")?t.key=localStorage.getItem("webkey"):(t.$message({message:"认证失效！",type:"error"}),t.$router.push({path:"/"})),t.getConfig()},methods:{save:function(){var t=this,e=t.form,data={webkey:t.key,params:JSON.stringify(e)},o=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});t.$axios.$post(t.$api.apiConfigUpdate(),this.qs.stringify(data)).then((function(e){o.close(),1==e.code?(t.$message({message:e.msg,type:"success"}),t.getConfig()):t.$message({message:e.msg,type:"error"})})).catch((function(e){o.close(),console.log(e),t.$message({message:"接口请求异常，请检查网络！",type:"error"})}))},getConfig:function(){var t=this,data={webkey:t.key};t.$axios.$post(t.$api.getApiConfig(),this.qs.stringify(data)).then((function(e){1==e.code&&(t.form.ftpHost=e.data.ftpHost,t.form.ftpPort=e.data.ftpPort,t.form.ftpUsername=e.data.ftpUsername,t.form.ftpPassword=e.data.ftpPassword,t.form.ftpBasePath=e.data.ftpBasePath)})).catch((function(e){console.log(e),t.$message({message:"接口请求异常，请检查网络！",type:"error"})}))}}},r=o(26),component=Object(r.a)(l,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"page-container"},[e("el-row",{attrs:{gutter:15}},[e("el-col",{attrs:{span:24}},[e("div",{staticClass:"data-box"},[e("div",{staticClass:"page-title"},[e("h4",[t._v("FTP上传配置")]),t._v(" "),e("p",[t._v("配置远程FTP上传，部分可能不支持，和其它上传方式三选一配置即可。")])]),t._v(" "),e("div",{staticClass:"page-form"},[e("el-form",{ref:"form",attrs:{model:t.form,"label-position":"top","label-width":"80px"}},[e("el-form-item",[e("p",{staticClass:"form-label",attrs:{slot:"label"},slot:"label"},[t._v("FTP地址"),e("span",[t._v("填写域名或者IP地址，不需要ftp请求头")])]),t._v(" "),e("el-input",{attrs:{placeholder:"请输入FTP地址"},model:{value:t.form.ftpHost,callback:function(e){t.$set(t.form,"ftpHost",e)},expression:"form.ftpHost"}})],1),t._v(" "),e("el-form-item",[e("p",{staticClass:"form-label",attrs:{slot:"label"},slot:"label"},[t._v("FTP端口号")]),t._v(" "),e("el-input",{attrs:{placeholder:"请输入FTP端口号"},model:{value:t.form.ftpPort,callback:function(e){t.$set(t.form,"ftpPort",e)},expression:"form.ftpPort"}})],1),t._v(" "),e("el-form-item",[e("p",{staticClass:"form-label",attrs:{slot:"label"},slot:"label"},[t._v("FTP用户名")]),t._v(" "),e("el-input",{attrs:{placeholder:"请输入FTP用户名"},model:{value:t.form.ftpUsername,callback:function(e){t.$set(t.form,"ftpUsername",e)},expression:"form.ftpUsername"}})],1),t._v(" "),e("el-form-item",[e("p",{staticClass:"form-label",attrs:{slot:"label"},slot:"label"},[t._v("FTP密码")]),t._v(" "),e("el-input",{attrs:{placeholder:"请输入FTP密码"},model:{value:t.form.ftpPassword,callback:function(e){t.$set(t.form,"ftpPassword",e)},expression:"form.ftpPassword"}})],1),t._v(" "),e("el-form-item",[e("p",{staticClass:"form-label",attrs:{slot:"label"},slot:"label"},[t._v("FTP根目录"),e("span",[t._v("暂时只支持一级目录，如/www")]),t._v(">")]),t._v(" "),e("el-input",{attrs:{placeholder:"请输入FTP根目录"},model:{value:t.form.ftpBasePath,callback:function(e){t.$set(t.form,"ftpBasePath",e)},expression:"form.ftpBasePath"}})],1),t._v(" "),e("el-form-item",[e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.save()}}},[t._v("保存设置")])],1)],1)],1)])])],1)],1)}),[],!1,null,null,null);e.default=component.exports}}]);